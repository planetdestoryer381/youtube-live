name: Base64 Secrets Table

on:
  workflow_dispatch:

jobs:
  show-base64:
    runs-on: ubuntu-latest
    timeout-minutes: 5

    steps:
      - name: Print Base64 table
        env:
          STREAM_KEY:           ${{ secrets.STREAM_KEY }}
          TWITCH_OAUTH:         ${{ secrets.TWITCH_OAUTH }}
          TWITCH_CLIENT_ID:     ${{ secrets.TWITCH_CLIENT_ID }}
          TWITCH_CLIENT_SECRET: ${{ secrets.TWITCH_CLIENT_SECRET }}
          TWITCH_CHANNEL:       countryballer2134
          TWITCH_NICK:          countryballer2134
          YT_STREAM_KEY:        ${{ secrets.YT_STREAM_KEY }}
          YT_CLIENT_ID:         ${{ secrets.YT_CLIENT_ID }}
          YT_CLIENT_SECRET:     ${{ secrets.YT_CLIENT_SECRET }}
          YT_REFRESH_TOKEN:     ${{ secrets.YT_REFRESH_TOKEN }}
          YT_LIVE_CHAT_ID:      ${{ secrets.YT_LIVE_CHAT_ID }}

        run: |
          echo "══════════════════════════════════════════════════════════════════════"
          echo "                     BASE64 ENCODED SECRETS TABLE"
          echo "══════════════════════════════════════════════════════════════════════"
          printf "| %-22s | %-60s |\n" "Name" "Base64 Value"
          echo "──────────────────────────────────────────────────────────────────────"

          print_b64() {
            local name="$1"
            local value="$2"
            local b64
            if [ -z "$value" ]; then
              b64="(empty)"
            else
              b64=$(printf '%s' "$value" | base64 -w 0)
            fi
            printf "| %-22s | %-60s |\n" "$name" "$b64"
          }

          print_b64 "STREAM_KEY"           "$STREAM_KEY"
          print_b64 "TWITCH_OAUTH"         "$TWITCH_OAUTH"
          print_b64 "TWITCH_CLIENT_ID"     "$TWITCH_CLIENT_ID"
          print_b64 "TWITCH_CLIENT_SECRET" "$TWITCH_CLIENT_SECRET"
          print_b64 "TWITCH_CHANNEL"       "$TWITCH_CHANNEL"
          print_b64 "TWITCH_NICK"          "$TWITCH_NICK"
          print_b64 "YT_STREAM_KEY"        "$YT_STREAM_KEY"
          print_b64 "YT_CLIENT_ID"         "$YT_CLIENT_ID"
          print_b64 "YT_CLIENT_SECRET"     "$YT_CLIENT_SECRET"
          print_b64 "YT_REFRESH_TOKEN"     "$YT_REFRESH_TOKEN"
          print_b64 "YT_LIVE_CHAT_ID"      "$YT_LIVE_CHAT_ID"

          echo "══════════════════════════════════════════════════════════════════════"
